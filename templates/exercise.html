<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
<meta name="theme-color" content="#4A90E2">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="RemindMe">
  <title>ì¹˜ë§¤ ì˜ˆë°© ìš´ë™</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .back-button {
      background: rgba(255, 255, 255, 0.9);
      border: none;
      color: #667eea;
      padding: 12px 24px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1em;
      font-weight: 600;
      margin-bottom: 30px;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .back-button:hover {
      background: white;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    .header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    .header h1 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 10px;
      text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    .header p {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    /* ì¹´í…Œê³ ë¦¬ ì„ íƒ í™”ë©´ */
    .category-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-bottom: 40px;
    }

    .category-card {
      background: white;
      border-radius: 20px;
      padding: 40px 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
    }

    .category-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .category-icon {
      font-size: 4rem;
      margin-bottom: 20px;
    }

    .category-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: #333;
      margin-bottom: 10px;
    }

    .category-count {
      color: #667eea;
      font-size: 1rem;
      font-weight: 600;
    }

    /* ì˜ìƒ ì„ íƒ í™”ë©´ */
    .video-selection {
      display: none;
    }

    .video-selection.active {
      display: block;
    }

    .selection-header {
      background: rgba(255, 255, 255, 0.15);
      padding: 20px;
      border-radius: 15px;
      margin-bottom: 30px;
      backdrop-filter: blur(10px);
    }

    .selection-title {
      color: white;
      font-size: 2rem;
      font-weight: 700;
      text-align: center;
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-bottom: 40px;
    }

    .video-card {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      transition: all 0.3s;
      cursor: pointer;
    }

    .video-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    .video-thumbnail {
      position: relative;
      width: 100%;
      height: 180px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
    }

    .video-info {
      padding: 20px;
    }

    .video-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: #333;
      margin-bottom: 8px;
    }

    .video-description {
      font-size: 0.95rem;
      color: #666;
      line-height: 1.5;
      margin-bottom: 12px;
    }

    .video-duration {
      display: inline-block;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .difficulty {
      display: inline-block;
      margin-left: 8px;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .difficulty.easy {
      background: #d4edda;
      color: #155724;
    }

    .difficulty.medium {
      background: #fff3cd;
      color: #856404;
    }

    .difficulty.hard {
      background:#f9a8d4;
      color: #be185d;
    }

    /* ì˜ìƒ ì¬ìƒ í™”ë©´ */
    .video-player {
      display: none;
    }

    .video-player.active {
      display: block;
    }

    .player-container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    .player-header {
      margin-bottom: 20px;
    }

    .player-title {
      font-size: 2rem;
      font-weight: 700;
      color: #333;
      margin-bottom: 10px;
    }

    .player-meta {
      font-size: 1rem;
      color: #666;
    }

    .video-frame {
      width: 100%;
      aspect-ratio: 16/9;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    }

    .video-frame iframe {
      width: 100%;
      height: 100%;
    }

    @media (max-width: 768px) {
      .header h1 {
        font-size: 2rem;
      }

      .category-grid {
        grid-template-columns: 1fr;
      }

      .video-grid {
        grid-template-columns: 1fr;
      }
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <button class="back-button" onclick="goBack()">â† ë’¤ë¡œ ê°€ê¸°</button>

    <div class="header">
      <h1>ğŸ§  ì¹˜ë§¤ ì˜ˆë°© ìš´ë™</h1>
      <p>ê±´ê°•í•œ ë‡Œë¥¼ ìœ„í•œ ë§ì¶¤ ìš´ë™ì„ ì„ íƒí•´ë³´ì„¸ìš”</p>
    </div>

    <!-- 1ë‹¨ê³„: ì¹´í…Œê³ ë¦¬ ì„ íƒ -->
    <div id="categoryView" class="category-view">
      <div class="category-grid">
        <div class="category-card" onclick="showVideos('chair')">
          <div class="category-icon">ğŸª‘</div>
          <div class="category-title">ì˜ì ìš´ë™</div>
          <div class="category-count">3ê°œ ì˜ìƒ</div>
        </div>

        <div class="category-card" onclick="showVideos('finger')">
          <div class="category-icon">âœ‹</div>
          <div class="category-title">ì†ê°€ë½ ìš´ë™</div>
          <div class="category-count">3ê°œ ì˜ìƒ</div>
        </div>

        <div class="category-card" onclick="showVideos('exercise')">
          <div class="category-icon">ğŸ’ª</div>
          <div class="category-title">ì¹˜ë§¤ ì˜ˆë°© ì²´ì¡°</div>
          <div class="category-count">3ê°œ ì˜ìƒ</div>
        </div>


      </div>
    </div>

    <!-- 2ë‹¨ê³„: ì˜ìƒ ì„ íƒ -->
    <div id="videoSelection" class="video-selection">
      <div class="selection-header">
        <div class="selection-title" id="selectionTitle"></div>
      </div>
      <div class="video-grid" id="videoGrid"></div>
    </div>

    <!-- 3ë‹¨ê³„: ì˜ìƒ ì¬ìƒ -->
    <div id="videoPlayer" class="video-player">
      <div class="player-container">
        <div class="player-header">
          <div class="player-title" id="playerTitle"></div>
          <div class="player-meta" id="playerMeta"></div>
        </div>
        <div class="video-frame">
          <iframe id="videoIframe" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
          </iframe>
        </div>
      </div>
    </div>
  </div>

  <script>
    const videos = {
      chair: [
        {
          id: 'VF20iXwq29U',
          title: 'ì˜ì ìš´ë™ - ì´ˆê¸‰í¸',
          description: 'ì•‰ì•„ì„œ í¸í•˜ê²Œ í•  ìˆ˜ ìˆëŠ” ìŠ¤íŠ¸ë ˆì¹­ê³¼ ê°€ë²¼ìš´ ê·¼ë ¥ ìš´ë™',
          duration: '6ë¶„',
          difficulty: 'easy',
          icon: 'ğŸª‘'
        },
        {
          id: 'U9dm_lI-ih0',
          title: 'ì˜ì ìš´ë™ - ì¤‘ê¸‰í¸',
          description: 'í˜ˆë‹¹,í˜ˆì•• ì¡ëŠ” ì˜ììš´ë™',
          duration: '7ë¶„',
          difficulty: 'medium',
          icon: 'ğŸ’º'
        },
        {
          id: 'h4_V_iISWRU',
          title: 'ì˜ì ìš´ë™ - ê³ ê¸‰í¸',
          description: 'ë…¸ë˜ì— ë§ì¶° í•˜ëŠ” ì˜ììš´ë™',
          duration: '6ë¶„',
          difficulty: 'hard',
          icon: 'ğŸµ'
        }
      ],
      finger: [
        {
          id: 'IiTdXuOEDbo',
          title: 'ì†ê°€ë½ ìš´ë™ - ì´ˆê¸‰í¸',
          description: 'ì†ê°€ë½ ìš´ë™ìœ¼ë¡œ ë‡Œ í™œì„±í™”',
          duration: '3ë¶„',
          difficulty: 'easy',
          icon: 'ğŸ‘†'
        },
        {
          id: 'Bdwsev5sU4A',
          title: 'ì†ê°€ë½ ìš´ë™ - ì¤‘ê¸‰í¸',
          description: 'ë‡Œì‹ ê²½ì´ ì‚´ì•„ë‚˜ëŠ” ì†ìš´ë™',
          duration: '3ë¶„',
          difficulty: 'medium',
          icon: 'ğŸ––'
        },
        {
          id: 'JAp3Lgu98S4',
          title: 'ì†ê°€ë½ ìš´ë™ - ê³ ê¸‰í¸',
          description: 'ê±´ê°•ë°•ìˆ˜',
          duration: '5ë¶„',
          difficulty: 'hard',
          icon: 'ğŸ‘'
        }
      ],
      exercise: [
        {
          id: 'ZBht7-Kn3Cs',
          title: 'ì¹˜ë§¤ ì˜ˆë°© ì²´ì¡° - ì´ˆê¸‰í¸',
          description: 'ì•„ì¹¨ì„ ê¹¨ìš°ëŠ” ì „ì‹  ìŠ¤íŠ¸ë ˆì¹­',
          duration: '7ë¶„',
          difficulty: 'easy',
          icon: 'ğŸ¤¸'
        },
        {
          id: 'npaTjimlF00',
          title: 'ì¹˜ë§¤ ì˜ˆë°© ì²´ì¡° - ì¤‘ê¸‰í¸',
          description: 'ì‹ ë‚˜ëŠ” ìŒì•…ê³¼ í•¨ê»˜í•˜ëŠ” ì²´ì¡°ë¡œ ì¦ê²ê²Œ ìš´ë™í•˜ê¸°',
          duration: '7ë¶„',
          difficulty: 'medium',
          icon: 'ğŸ‘¯'
        },
        {
          id: 'Fzzo_sHW3xE',
          title: 'ì¹˜ë§¤ ì˜ˆë°© ì²´ì¡° - ê³ ê¸‰í¸',
          description: 'ë‚˜ì„±ì—ê°€ë©´â™ªì— ë§ì¶° ì‹ ë‚˜ëŠ” ì²´ì¡°í•˜ê¸°',
          duration: '7ë¶„',
          difficulty: 'hard',
          icon: 'ğŸµ'
        }
      ]

    };

    const categoryNames = {
      chair: 'ì˜ì ìš´ë™',
      finger: 'ì†ê°€ë½ ìš´ë™',
      exercise: 'ì¹˜ë§¤ ì˜ˆë°© ì²´ì¡°',

    };

    let currentCategory = '';

    function showVideos(category) {
      currentCategory = category;
      document.getElementById('categoryView').classList.add('hidden');
      document.getElementById('videoSelection').classList.add('active');
      document.getElementById('selectionTitle').textContent = categoryNames[category];

      const videoGrid = document.getElementById('videoGrid');
      videoGrid.innerHTML = '';

      videos[category].forEach(video => {
        const card = document.createElement('div');
        card.className = 'video-card';
        card.onclick = () => playVideo(video);

        card.innerHTML = `
          <div class="video-thumbnail">${video.icon}</div>
          <div class="video-info">
            <div class="video-title">${video.title}</div>
            <div class="video-description">${video.description}</div>
            <span class="video-duration">â±ï¸ ${video.duration}</span>
            <span class="difficulty ${video.difficulty}">${video.difficulty === 'easy' ? 'ì´ˆê¸‰' : video.difficulty === 'medium' ? 'ì¤‘ê¸‰' : 'ê³ ê¸‰'}</span>
          </div>
        `;

        videoGrid.appendChild(card);
      });
    }

    function playVideo(video) {
      document.getElementById('videoSelection').classList.remove('active');
      document.getElementById('videoPlayer').classList.add('active');

      document.getElementById('playerTitle').textContent = video.title;
      document.getElementById('playerMeta').textContent = `${video.duration} Â· ${video.difficulty === 'easy' ? 'ì´ˆê¸‰' : video.difficulty === 'medium' ? 'ì¤‘ê¸‰' : 'ê³ ê¸‰'}`;
      document.getElementById('videoIframe').src = `https://www.youtube.com/embed/${video.id}?autoplay=1`;
    }

    function goBack() {
      const player = document.getElementById('videoPlayer');
      const selection = document.getElementById('videoSelection');
      const category = document.getElementById('categoryView');

      if (player.classList.contains('active')) {
        // ì˜ìƒ ì¬ìƒ ì¤‘ -> ì˜ìƒ ì„ íƒìœ¼ë¡œ
        player.classList.remove('active');
        selection.classList.add('active');
        document.getElementById('videoIframe').src = '';
      } else if (selection.classList.contains('active')) {
        // ì˜ìƒ ì„ íƒ ì¤‘ -> ì¹´í…Œê³ ë¦¬ ì„ íƒìœ¼ë¡œ
        selection.classList.remove('active');
        category.classList.remove('hidden');
      } else {
        // ì¹´í…Œê³ ë¦¬ ì„ íƒ ì¤‘ -> ì§€ë„ë¡œ
        location.href = 'map';
      }
    }
  </script>
</body>
</html>